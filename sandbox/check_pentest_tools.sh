#!/usr/bin/env bash
set -euo pipefail

required_tools=(
  curl
  wget
  jq
  nmap
  whois
  ifconfig
  ip
  openssl
  ping
  dig
  traceroute
  nc
)

missing=()
for tool in "${required_tools[@]}"; do
  if ! command -v "$tool" >/dev/null 2>&1; then
    missing+=("$tool")
  fi
done

if [ ${#missing[@]} -gt 0 ]; then
  echo "Missing penetration/network tools: ${missing[*]}"
  exit 1
fi

echo "All required penetration/network tools are available."
echo "Installed tool versions:"
nmap --version | head -n 1 || true
openssl version || true
curl --version | head -n 1 || true
dig -v | head -n 1 || true
